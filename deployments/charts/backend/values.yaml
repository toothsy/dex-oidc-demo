replicaCount: 1

image:
  repository: backend-auth
  pullPolicy: IfNotPresent
  tag: "latest"

service:
  type: ClusterIP
  port: 8080

ingress:
  enabled: true
  className: kong
  annotations:
    konghq.com/strip-path: "false"
    konghq.com/preserve-host: "true"
  host: localhost
  paths:
    - path: /api/auth
      pathType: Prefix

resources:
  requests:
    cpu: 50m
    memory: 64Mi
  limits:
    cpu: 200m
    memory: 256Mi

config:
  server:
    port: "8080"
  oidc:
    issuer: "http://dex-dex-server-http.auth.svc.cluster.local:5556/v1/dex"
    clientId: "backend-client"
    clientSecret: "backend-secret-change-in-production"
    redirectUri: "http://localhost:8000/api/auth/callback"
    scopes:
      - openid
      - email
      - profile
      - offline_access
  frontend:
    redirectUrl: "http://localhost:8000"
